///////////////////// ffi
type RegExp;

function string$split(text: string, sep: string): Array<string>;
function string$match(s: string, regexp: RegExp): Array<string>;

function regExp$new(s:string, flags: string): RegExp;
function regExpnew(s:string, flags: string): RegExp;

function readfile(fname: string): string;

//////////////////// ffi wrappers

function split(s: string, sep: string): Array<string> {
  string$split(s, sep)
}

function match(s: string, regexp: RegExp): Array<string> {
  string$match(s, regexp)
}

function newRegExp(s: string, flags: string): RegExp {
  regExp$new(s, flags)
}

function test7() {
  let r = newRegExp("[0-9]", "g");
  let s = "ab4cdef7gh";
  const numbers = s.match(r);
  const numbers = "ab4cdef7gh".match(r);
  console.log(numbers);
}

test7();
