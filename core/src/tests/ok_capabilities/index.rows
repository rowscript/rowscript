throw DB {
    open(dsn: string): DB;
    close(db: DB);
}

const dsn = "mysql://john:pass@localhost:3306/my_db";

function f0() throw DB {
    const db = open(dsn);
    close(db);
}

type MySQLConn;
type MySQL = {conn: MySQLConn};

function connectMySQL(dsn: string): MySQLConn;
function closeMySQL(conn: MySQLConn);

//function f1() {
//    try {
//        const db = open(dsn);
//        close(db);
//    } catch (DB) {
//        open(dsn: string): MySQL { {conn: connectMySQL(dsn)} }
//        close(db: MySQL) { closeMySQL(db.conn) }
//    }
//}

// Cannot do this:
//instanceof DB for MySQL {
//    open(dsn: string): MySQL { {conn: connectMySQL(dsn)} }
//    close(db: MySQL) { closeMySQL(db.conn) }
//}
